<!-- resume/templates/resume/base.html -->
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}–†–µ–∑—é–º–µ IT{% endblock %}</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    {% load static %}
    <link href="{% static 'resume/css/style.css' %}" rel="stylesheet">
    <link href="{% static 'resume/css/tour.css' %}" rel="stylesheet">
    <link href="{% static 'resume/css/demo.css' %}" rel="stylesheet">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="{% url 'home' %}">
                <i class="fas fa-code"></i> IT –†–µ–∑—é–º–µ
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'home' %}">–ì–ª–∞–≤–Ω–∞—è</a>
                    </li>
                    <li class="nav-item" id="nav-about">
                        <a class="nav-link" href="{% url 'profile_detail' %}">–û–±–æ –º–Ω–µ</a>
                    </li>
                    <li class="nav-item" id="nav-certificates">
                        <a class="nav-link" href="{% url 'certificate_list' %}">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</a>
                    </li>
                    <li class="nav-item" id="nav-projects">
                        <a class="nav-link" href="{% url 'project_list' %}">–ü—Ä–æ–µ–∫—Ç—ã</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h5>
                    {% if profile %}
                    <p class="mb-1"><i class="fas fa-envelope"></i> {{ profile.email }}</p>
                    <p class="mb-1"><i class="fas fa-phone"></i> {{ profile.phone }}</p>
                    {% endif %}
                </div>
                <div class="col-md-6 text-md-end">
                    <h5>–ü–æ–ª–µ–∑–Ω–æ–µ</h5>
                    <button class="tour-restart-btn" onclick="restartTour()">
                        <i class="fas fa-sync-alt"></i> –ü–æ–∫–∞–∑–∞—Ç—å –æ–±–∑–æ—Ä —Ä–µ–∑—é–º–µ
                    </button>
                </div>
            </div>
            <hr class="my-3">
            <div class="text-center">
                <p class="mb-0">&copy; 2026 IT –†–µ–∑—é–º–µ. –°–æ–∑–¥–∞–Ω–æ –Ω–∞ Django.</p>
            </div>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –¥–µ–º–æ -->
    <div class="modal fade" id="demoDisabledModal" tabindex="-1" aria-labelledby="demoDisabledModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="demoDisabledModalLabel">
                        <i class="fas fa-info-circle"></i>
                        –î–µ–º–æ –≤–µ—Ä—Å–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-server-slash fa-3x text-muted"></i>
                    </div>
                    <p class="text-center">
                        –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –¥–µ–º–æ –≤–µ—Ä—Å–∏—è –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ 
                        –≤ —Ü–µ–ª—è—Ö —ç–∫–æ–Ω–æ–º–∏–∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.
                    </p>
                    <div class="alert alert-info text-center">
                        <strong>–î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –¥–µ–º–æ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å:</strong><br>
                        <i class="fas fa-phone"></i> 
                        <a href="tel:+79088595009" class="text-decoration-none">
                            <strong>8 (908) 859-50-09</strong>
                        </a>
                    </div>
                    <p class="text-muted text-center small">
                        –ú—ã –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –≤–∫–ª—é—á–∏–º –¥–µ–º–æ –ø–æ—Å–ª–µ –≤–∞—à–µ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                    <a href="tel:+79088595009" class="btn btn-primary">
                        <i class="fas fa-phone"></i> –ü–æ–∑–≤–æ–Ω–∏—Ç—å
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Tour Welcome Modal -->
    <div class="tour-welcome-modal" id="tour-welcome-modal">
        <div class="tour-welcome-content">
            <h2>üëã –ü—Ä–∏–≤–µ—Ç, —è –ø—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ —Ä–µ–∑—é–º–µ!</h2>
            <p>–ü–æ–∑–≤–æ–ª—å—Ç–µ –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã —Å–∞–π—Ç–∞. –≠—Ç–æ –∑–∞–π–º–µ—Ç –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥.</p>
            <button class="tour-welcome-btn" id="tour-start-btn">
                üöÄ –ù–∞—á–∞—Ç—å —ç–∫—Å–∫—É—Ä—Å–∏—é
            </button>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Demo Checker JS -->
    <script src="{% static 'resume/js/demo-checker.js' %}"></script>
    
    <!-- Tour JS -->
    <script src="{% static 'resume/js/tour.js' %}"></script>
    
    <!-- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        console.log('Bootstrap –¥–æ—Å—Ç—É–ø–µ–Ω:', typeof bootstrap !== 'undefined');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–Ω–æ–ø–æ–∫ –¥–µ–º–æ
        const demoButtons = document.querySelectorAll('.demo-link');
        console.log('–ù–∞–π–¥–µ–Ω–æ –¥–µ–º–æ –∫–Ω–æ–ø–æ–∫:', demoButtons.length);
        
        demoButtons.forEach((btn, index) => {
            console.log(`–ö–Ω–æ–ø–∫–∞ ${index + 1}:`, btn.href);
        });
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —Å—Å—ã–ª–∫–∏ —Å –∫–ª–∞—Å—Å–æ–º btn-success
        const successButtons = document.querySelectorAll('.btn-success');
        console.log('–ù–∞–π–¥–µ–Ω–æ –∫–Ω–æ–ø–æ–∫ btn-success:', successButtons.length);
        
        successButtons.forEach((btn, index) => {
            if (btn.href) {
                console.log(`btn-success ${index + 1}:`, btn.href);
            }
        });
    });
    
    function restartTour() {
        localStorage.removeItem('tour-completed');
        location.reload();
    }
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>